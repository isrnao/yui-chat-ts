const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BcWzaUsY.js","assets/vendor-react-D66VYGKs.js","assets/vendor-supabase-Cgw9WQ-u.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,c as n}from"./vendor-react-D66VYGKs.js";import{c as a,_ as s}from"./vendor-supabase-Cgw9WQ-u.js";const r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrbHhkanFsdndudGRzZnhmY3dvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1MzMxNTAsImV4cCI6MjA2MzEwOTE1MH0.UHvYZm4BPYIbaUBkz2r97L7bLcqXXKBzX9cegZuBauY",o=a("https://tklxdjqlvwntdsfxfcwo.supabase.co",r,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1},db:{schema:"public"},global:{headers:{apikey:r,Authorization:`Bearer ${r}`,"X-My-Custom-Header":"yui-chat","Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json"}},realtime:{params:{eventsPerSecond:10}}}),i=[{uuid:"mock-1",name:"システム",color:"#2563eb",message:"チャットシステムに接続中です...",time:Date.now(),client_time:Date.now(),optimistic:!1,system:!0,email:"",ip:"",ua:""},{uuid:"mock-2",name:"ゆい",color:"#ec4899",message:"こんにちは！チャットへようこそ✨",time:Date.now()-6e4,client_time:Date.now()-6e4,optimistic:!1,system:!1,email:"",ip:"",ua:""},{uuid:"mock-3",name:"たろう",color:"#059669",message:"よろしくお願いします！",time:Date.now()-12e4,client_time:Date.now()-12e4,optimistic:!1,system:!1,email:"",ip:"",ua:""}];const c="chats",l=3e5;let d=0;function u(){d=performance.now()}function m(e){performance.now()}let h=null;async function p(e){return await e()}async function f(e,t=3,n=1e3){for(let s=1;s<=t;s++)try{return await p(e)}catch(a){if(s===t)throw a;const e=n*Math.pow(2,s-1);await new Promise((t=>setTimeout(t,e)))}throw new Error("Max retries exceeded")}async function b(e=!0){return u(),f((async()=>{if(!navigator.onLine)return m(),i;if(e&&h){if(Date.now()-h.timestamp<l)return m(),h.data}const{data:t,error:n}=await o.from(c).select("uuid,name,color,message,time,system,email,ip,ua").order("uuid",{ascending:!1}).limit(100);if(n){if("401"===n.code||n.message.includes("JWT"))return i;throw new Error(`Supabase error: ${n.message} (${n.code})`)}if(!t)return[];const a=t||[];return h={data:a,timestamp:Date.now()},m(),a}))}async function x(e=100){const t=await async function(e=50,t=0,n=!0){return f((async()=>{if(0===t&&n&&h&&Date.now()-h.timestamp<l)return{data:h.data.slice(0,e),hasMore:h.data.length>e};const{data:a,count:s,error:r}=await o.from(c).select("uuid,name,color,message,time,system,email,ip,ua",{count:"exact"}).order("uuid",{ascending:!1}).range(t,t+e-1);if(r)throw new Error(`Supabase pagination error: ${r.message} (${r.code})`);const i=a||[];return 0===t&&(h={data:i,timestamp:Date.now()}),{data:i,hasMore:(s||0)>t+e}}))}(e,0,!0);return t.data}async function g(e){return u(),f((async()=>{const t={name:e.name,color:e.color,message:e.message,system:e.system,email:e.email,ip:e.ip,ua:e.ua},{data:n,error:a}=await o.from(c).insert(t).select("uuid,time").single();if(a)throw new Error(`Failed to save chat: ${a.message}`);return Promise.resolve().then((()=>y())),m(),{...e,uuid:n.uuid,time:n.time,optimistic:!1}}))}async function w(){await o.from(c).delete().neq("uuid",""),y()}function y(){h=null}function v(){const[t,n]=e.useState([]),[a,s]=e.useState(!0),r=e.useCallback((e=>{n((t=>{const n=t.findIndex((t=>t.uuid===e.uuid));if(-1!==n){const a=[...t];return a[n]=e,a.slice(0,2e3)}return[e,...t].slice(0,2e3)}))}),[n]),[i,l]=e.useOptimistic(t,((e,t)=>{const n=e.findIndex((e=>e.uuid===t.uuid));if(-1!==n){const a=[...e];return a[n]=t,a.slice(0,2e3)}return[t,...e].slice(0,2e3)}));e.useEffect((()=>{s(!0),b().then(n).finally((()=>s(!1)));const e=(t=e=>{r(e)},o.channel("chats").on("postgres_changes",{event:"INSERT",schema:"public",table:c},(e=>t(e.new))).subscribe());var t;return()=>{e.unsubscribe()}}),[r]);const d=e.useCallback((async t=>{e.startTransition((()=>{l(t)})),await async function(e){return u(),f((async()=>{const t={name:e.name,color:e.color,message:e.message,system:e.system,email:e.email,ip:e.ip,ua:e.ua},{data:n,error:a}=await o.from(c).insert(t).select("uuid,name,color,message,time,system,email,ip,ua").single();if(a)throw new Error(`Failed to save chat: ${a.message}`);return y(),m(),n}))}(t),e.startTransition((()=>{r(t)}))}),[l,r]),h=e.useCallback((async()=>{await w()}),[]);return{chatLog:i,isLoading:a,setChatLog:n,addChat:d,addOptimistic:l,mergeChat:r,clear:h}}function j(t){return e.useDeferredValue(function(e){const t=Date.now();return Array.from(e.filter((e=>e.name&&e.color&&!e.system&&t-e.time<=3e5)).reduce(((e,t)=>(e.set(t.name,{uuid:t.uuid,name:t.name,color:t.color}),e)),new Map).values())}(t))}async function N(){try{const t=["https://api.ipify.org?format=json","https://httpbin.org/ip","https://jsonip.com"];for(const n of t)try{const e=await fetch(n),t=await e.json();if(t.ip)return t.ip;if(t.origin)return t.origin}catch(e){continue}return"unknown"}catch(e){return"unknown"}}function S(){return navigator.userAgent||"unknown"}function E(e){return{...e,uuid:`temp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,time:Date.now()+31536e6,optimistic:!0}}function k({children:e,className:n="",...a}){return t.jsx("button",{className:"border-2 border-ie-gray [border-style:outset] bg-gradient-to-b from-ie-bg to-[#e4e4e4] text-[#222] px-3 py-0.5 text-sm cursor-pointer rounded-none shadow-none transition font-yui active:[border-style:inset] active:border-ie-gray active:bg-gradient-to-b active:from-[#e1e1e1] active:to-ie-bg disabled:text-[#a9a9a9] disabled:border-[#e2e2e2] disabled:bg-[#f6f6f6] disabled:cursor-not-allowed whitespace-nowrap leading-[1.6] min-h-[28px] "+n,...a,children:e})}const C=e.forwardRef((({className:e="",...n},a)=>t.jsx("input",{className:"border-2 border-ie-gray [border-style:inset] bg-white px-2 py-0.5 text-sm rounded-none shadow-none transition-colors outline-none font-yui focus:border-2 focus:border-ie-blue focus:bg-[#f8fafd] "+e,ref:a,...n})));function M({message:n,setMessage:a,chatLog:s,windowRows:r,setWindowRows:o,onExit:i,onSend:c,onReload:l,onShowRanking:d}){const u=e.useId(),m=e.useId(),h=e.useRef(null),[p,f,b]=e.useActionState((async(e,t)=>{const n=t.get("message")?.toString()??"";if(n.trim())try{return await c(n),""}catch(a){return a?.message||"送信エラー"}}),"");return e.useEffect((()=>{!b&&h.current&&h.current.focus()}),[s,b]),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"mb-1 flex gap-2",children:[t.jsx("a",{href:"#",onClick:e=>{e.preventDefault(),i()},className:"underline text-blue-700",children:"[退室]"}),t.jsx("a",{href:"#",onClick:e=>{e.preventDefault(),d()},className:"underline text-blue-700",children:"[発言ランキング]"})]}),t.jsxs("form",{onSubmit:t=>{t.preventDefault();const n=new FormData(t.currentTarget);a(""),e.startTransition((()=>{f(n)}))},className:"flex gap-2 mt-2 mb-3 w-full max-w-2xl px-4 font-yui flex-wrap",autoComplete:"off",children:[t.jsxs("div",{className:"flex flex-nowrap gap-2",children:[t.jsx(k,{type:"submit",disabled:b,children:"発言"}),t.jsx(k,{type:"button",onClick:l,tabIndex:-1,disabled:b,children:"リロード"})]}),t.jsx("div",{className:"w-full",children:t.jsx(C,{type:"text",placeholder:"発言",id:u,name:"message",value:n,maxLength:120,onChange:e=>a(e.target.value),disabled:b,ref:h,autoFocus:!0,"aria-label":"発言",className:"w-full flex-1"})}),t.jsx("label",{htmlFor:m,className:"ml-2",children:"ログ行数"}),t.jsx("select",{className:"ml-2 border-2 border-ie-gray [border-style:inset] px-2 py-0.5 text-sm rounded-none shadow-none outline-none font-yui focus:border-2 focus:border-ie-blue focus:bg-[#f8fafd]",id:m,value:r,onChange:e=>o(Number(e.target.value)),"aria-label":"ログ行数",disabled:b,children:[30,50,40,20,10,100].map((e=>t.jsx("option",{value:e,children:e},e)))}),p&&t.jsx("div",{className:"w-full text-xs text-red-500 mt-1",children:p})]})]})}function I({name:n,setName:a,color:s,setColor:r,email:o,setEmail:i,windowRows:c,setWindowRows:l,onEnter:d,error:u,isPending:m}){const h=e.useId(),p=e.useId(),f=e.useId(),b=e.useId();return t.jsxs("div",{className:"flex flex-col",children:[t.jsx("header",{className:"mb-1 text-2xl font-bold text-yui-pink font-yui",children:"ゆいちゃっと"}),t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),await d({name:n,color:s,email:o})},autoComplete:"off",children:[t.jsxs("div",{className:"mb-2 flex items-center",children:[t.jsx("label",{className:"font-bold",htmlFor:h,children:"おなまえ:"}),t.jsx(C,{type:"text",id:h,name:"name",value:n,maxLength:24,onChange:e=>a(e.target.value),required:!0,autoFocus:!0,"aria-label":"おなまえ",autoComplete:"nickname",disabled:m,className:"ml-2"})]}),t.jsxs("div",{className:"mb-2 flex items-center",children:[t.jsx("label",{htmlFor:p,children:"名前の色:"}),t.jsx(C,{type:"color",id:p,name:"color",value:s,onChange:e=>r(e.target.value),"aria-label":"名前の色",disabled:m,className:"ml-2 w-10 h-7 px-1 py-0.5 text-base align-middle"}),t.jsx("span",{className:"ml-2",style:{color:s},"aria-hidden":!0,children:"■"})]}),t.jsxs("div",{className:"mb-2 flex items-center",children:[t.jsx("label",{htmlFor:f,children:"E-Mail:"}),t.jsx(C,{type:"email",id:f,name:"email",value:o,maxLength:64,onChange:e=>i(e.target.value),autoComplete:"email",placeholder:"任意","aria-label":"E-Mail",disabled:m,className:"ml-2"})]}),t.jsxs("div",{className:"mb-2 flex items-center",children:[t.jsx("label",{htmlFor:b,children:"ログ行数:"}),t.jsx("select",{className:"ml-2 border-2 border-ie-gray [border-style:inset] bg-white px-2 py-0.5 text-sm rounded-none shadow-none outline-none font-yui focus:border-2 focus:border-ie-blue focus:bg-[#f8fafd]",id:b,name:"windowRows",value:c,onChange:e=>l(Number(e.target.value)),"aria-label":"ログ行数",disabled:m,children:[30,50,40,20,10,100].map((e=>t.jsx("option",{value:e,children:e},e)))})]}),u&&t.jsx("div",{className:"text-xs text-red-500 text-left mb-2",children:u}),t.jsx("div",{className:"flex mt-4 gap-2",children:t.jsx(k,{type:"submit",disabled:m,className:"px-5",children:m?"参加中...":"チャットに参加する"})}),t.jsx("div",{className:"text-xs text-gray-500 text-right mt-2",children:t.jsx("a",{href:"http://www.cup.com/yui/",target:"_blank",rel:"noreferrer",children:"ゆいちゃっと Pro(Free)"})})]})]})}function R({top:n,bottom:a,minTop:s=10,minBottom:r=10}){const o=e.useRef(null),[i,c]=e.useState(30),[l,d]=e.useState(!1),u=e.useRef(null),m=e.useRef({height:0,top:0}),[h,p]=e.useState({height:0,top:0}),f=e.useRef(i);e.useEffect((()=>{f.current=i}),[i]),e.useLayoutEffect((()=>{const e=o.current;if(!e)return;const t=()=>{const t=e.getBoundingClientRect(),n={height:t.height,top:t.top};m.current=n,p((e=>{const t=Math.abs(e.height-n.height),a=Math.abs(e.top-n.top);return t>.5||a>.5?n:e}))};t();const n=new ResizeObserver((()=>{t()}));n.observe(e);const a=()=>t();return window.addEventListener("scroll",a,{passive:!0}),window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{n.disconnect(),window.removeEventListener("scroll",a),window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}}),[]);const b=e.useCallback((e=>{const{height:t,top:n}=m.current;if(!t)return f.current;let a=(e-n)/t*100;return a=Math.max(s/t*100,a),a=Math.min(100-r/t*100,a),a}),[s,r]),x=e.useCallback((e=>{const{clientY:t}=e;null!==u.current&&(cancelAnimationFrame(u.current),u.current=null),u.current=requestAnimationFrame((()=>{c(b(t))}))}),[b]),g=e.useCallback((()=>{d(!1),document.body.style.cursor=""}),[]);e.useEffect((()=>{if(l)return window.addEventListener("mousemove",x),window.addEventListener("mouseup",g),document.body.style.cursor="row-resize",()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",g),document.body.style.cursor=""}}),[l,x,g]),e.useEffect((()=>()=>{null!==u.current&&(cancelAnimationFrame(u.current),u.current=null)}),[]),e.useEffect((()=>{n&&a&&e.isValidElement(n)&&"function"==typeof n.type&&c("ChatRoom"===n.type.name?18:26)}),[n,a]);const w=h.height,y=w?s/w*100:0,v=w?100-r/w*100:100,j=Math.max(0,Math.min(y,100)),N=Math.max(j,Math.min(v,100));return t.jsxs("div",{ref:o,className:"flex flex-1 flex-col bg-transparent select-none min-h-0 h-full",children:[t.jsx("div",{className:"overflow-y-auto px-[var(--page-gap)] pb-[var(--page-gap)]",style:{height:`${i}%`,minHeight:s},children:n}),t.jsx("div",{role:"separator","aria-label":"上下の領域を分割するバー","aria-description":"上下の境界です。矢印キーで調整できます","aria-orientation":"horizontal","aria-valuenow":Math.round(i),"aria-valuemin":Math.round(j),"aria-valuemax":Math.round(N),tabIndex:0,onMouseDown:()=>d(!0),onKeyDown:e=>{const t=h.height||m.current.height||1;"ArrowUp"===e.key&&c((e=>Math.min(e+2,100-r/t*100))),"ArrowDown"===e.key&&c((e=>Math.max(e-2,s/t*100)))},className:"bleed-x cursor-row-resize outline-none",children:t.jsx("hr",{className:"border-0 border-t-4 border-b border-t-ie-gray border-b-white w-full"})}),t.jsx("div",{className:"overflow-y-auto min-h-0",style:{height:100-i+"%",minHeight:r},children:a})]})}function L(e){const t=new Date(e);return`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`}function D(e){const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()}(${["日","月","火","水","木","金","土"][t.getDay()]})${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}function T({chatLog:n}){const a=function(t){return e.useMemo((()=>{const e=new Map;return t.forEach((t=>{if(!t.system&&t.name){const n=e.get(t.name)??{count:0,lastTime:0};n.count+=1,n.lastTime=Math.max(n.lastTime,t.time),e.set(t.name,n)}})),Array.from(e.entries()).map((([e,t])=>({name:e,...t}))).sort(((e,t)=>t.count-e.count||t.lastTime-e.lastTime))}),[t])}(n);return t.jsxs("div",{className:"mt-4 w-full mx-auto text-[#444]",children:[t.jsx("div",{className:"mb-2 text-sm font-bold",children:"発言らんきんぐ"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm font-yui",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-[#444]",children:[t.jsx("th",{className:"py-1 px-2 font-bold whitespace-nowrap border-b border-[#d2b48c]",children:"おなまえ"}),t.jsx("th",{className:"py-1 px-2 font-bold whitespace-nowrap border-b border-[#d2b48c]",children:"発言回数"}),t.jsx("th",{className:"py-1 px-2 font-bold whitespace-nowrap border-b border-[#d2b48c]",children:"最終発言時刻"}),t.jsx("th",{className:"py-1 px-2 font-bold whitespace-nowrap border-b border-[#d2b48c]",children:"ホスト情報"})]})}),t.jsxs("tbody",{children:[0===a.length&&t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"text-center text-gray-400 py-2",children:"データなし"})}),a.map((({name:e,count:n,lastTime:a})=>t.jsxs("tr",{children:[t.jsx("td",{className:"py-1 px-2 border-b border-[#e9d7ba] text-center",children:e}),t.jsx("td",{className:"py-1 px-2 border-b border-[#e9d7ba] text-center",children:n}),t.jsx("td",{className:"py-1 px-2 border-b border-[#e9d7ba] text-center",children:D(a)}),t.jsx("td",{className:"py-1 px-2 border-b border-[#e9d7ba] text-center"})]},e)))]})]})})]})}const A=e.lazy((()=>s((()=>import("./index-BcWzaUsY.js")),__vite__mapDeps([0,1,2]))));function $(){var n;e.useEffect((()=>{!function(){try{const e=document.createElement("link");e.rel="dns-prefetch",e.href="https://tklxdjqlvwntdsfxfcwo.supabase.co",document.head.appendChild(e);const t=document.createElement("link");t.rel="preconnect",t.href="https://tklxdjqlvwntdsfxfcwo.supabase.co",t.crossOrigin="anonymous",document.head.appendChild(t)}catch(e){}}(),async function(){try{await x(50)}catch(e){}}()}),[]),((t={})=>{e.useEffect((()=>{if(t.title&&(document.title=t.title),t.description){let e=document.querySelector('meta[name="description"]');e||(e=document.createElement("meta"),e.setAttribute("name","description"),document.head.appendChild(e)),e.setAttribute("content",t.description)}if(t.keywords&&t.keywords.length>0){let e=document.querySelector('meta[name="keywords"]');e||(e=document.createElement("meta"),e.setAttribute("name","keywords"),document.head.appendChild(e)),e.setAttribute("content",t.keywords.join(","))}if(t.canonical){let e=document.querySelector('link[rel="canonical"]');e||(e=document.createElement("link"),e.setAttribute("rel","canonical"),document.head.appendChild(e)),e.setAttribute("href",t.canonical)}if(t.ogImage){const e=document.querySelector('meta[property="og:image"]');e&&e.setAttribute("content",t.ogImage);const n=document.querySelector('meta[property="twitter:image"]');n&&n.setAttribute("content",t.ogImage)}const e=document.querySelector('script[type="application/ld+json"]');if(e&&(t.title||t.description))try{const n=JSON.parse(e.textContent||"{}");t.title&&(n.name=t.title),t.description&&(n.description=t.description),t.keywords&&(n.keywords=t.keywords.join(",")),e.textContent=JSON.stringify(n,null,2)}catch(n){}}),[t.title,t.description,t.keywords,t.canonical,t.ogImage])})({title:"ゆいちゃっとTS - 無料お気楽チャット",description:"ゆいちゃっとTSは放課後学生タウンの雰囲気を楽しめる無料のお気楽チャットです。リアルタイムでみんなとおしゃべりを楽しもう！ブラウザですぐに使える簡単チャット。",keywords:["ゆいちゃっとTS","放課後学生タウン","お気楽チャット","無料チャット","ブラウザチャット","リアルタイムチャット","学生チャット","オンラインチャット"],canonical:"https://isrnao.github.io/yui-chat-ts/"}),n="ホーム - ゆいちゃっとTS",e.useEffect((()=>{"undefined"!=typeof window&&window.gtag&&window.gtag("config","GA_MEASUREMENT_ID",{page_title:n,page_location:window.location.href})}),[n]);const{chatLog:a,isLoading:s,setChatLog:r,addOptimistic:o,mergeChat:i}=v(),c=j(a),[l,d]=e.useState(!1),[u,m]=e.useState(""),[h,p]=e.useState("#ff69b4"),[f,y]=e.useState(""),[k,C]=e.useState(30),[L,D]=e.useState(!1),[$,F]=e.useState(""),_=e.useId(),{handleEnter:z,handleExit:O,handleSend:q,handleReload:P}=function({name:t,color:n,email:a,myId:s,entered:r,setEntered:o,setChatLog:i,setShowRanking:c,setName:l,setMessage:d,addOptimistic:u,mergeChat:m}){const[,h]=e.useTransition(),p=e.useCallback((async({name:e})=>{const t=function(e){return e?e.length>24?"おなまえは24文字以内":null:"おなまえは必須です"}(e);if(t)throw new Error(t);o(!0);const n=E({name:"管理人",color:"#0000ff",message:`${e}さん、おいでやすぅ。`,client_time:Date.now(),system:!0,ip:"",ua:""});h((()=>u(n)));const[a,s]=await Promise.all([N(),Promise.resolve(S())]),r={...n,ip:a,ua:s},i=await g(r);h((()=>m(i)))}),[o,u,m]);return{handleEnter:p,handleExit:e.useCallback((async()=>{const e=E({name:"管理人",color:"#0000ff",message:`${t}さん、またきておくれやすぅ。`,client_time:Date.now(),system:!0,ip:"",ua:""});h((()=>u(e))),o(!1),c(!1),l(""),d("");const[n,a]=await Promise.all([N(),Promise.resolve(S())]),s={...e,ip:n,ua:a},r=await g(s);h((()=>m(r)))}),[t,o,c,l,d,u,m]),handleSend:e.useCallback((async e=>{if(!e.trim())return;if("cut"===e.trim())return d(""),void c(!1);if("clear"===e.trim())return await w(),d(""),void c(!1);const s=E({name:t,color:n,message:e,client_time:Date.now(),email:a,ip:"",ua:""});h((()=>u(s))),d(""),c(!1);const[r,o]=await Promise.all([N(),Promise.resolve(S())]),i={...s,ip:r,ua:o},l=await g(i);h((()=>m(l)))}),[t,n,a,d,c,u,m]),handleReload:e.useCallback((()=>{b().then((e=>i((()=>e))))}),[i])}}({name:u,color:h,email:$,myId:_,entered:l,setEntered:d,setChatLog:r,setShowRanking:D,setName:m,setMessage:y,addOptimistic:o,mergeChat:i});return t.jsx(t.Fragment,{children:t.jsxs("main",{className:"flex flex-col bg-yui-green min-h-dvh h-dvh overflow-hidden",role:"main",children:[t.jsxs("header",{className:"sr-only",children:[t.jsx("h1",{children:"ゆいちゃっとTS - 無料お気楽チャット"}),t.jsx("p",{children:"リアルタイムでみんなとおしゃべりを楽しめる無料のブラウザチャットです。"})]}),t.jsx(R,{minTop:100,minBottom:100,top:l?t.jsx(M,{message:f,setMessage:y,chatLog:a,windowRows:k,setWindowRows:C,onExit:O,onSend:e=>q(e),onReload:P,onShowRanking:()=>D(!0)}):t.jsx(I,{name:u,setName:m,color:h,setColor:p,email:$,setEmail:F,windowRows:k,setWindowRows:C,onEnter:z}),bottom:L?t.jsxs("div",{className:"relative px-[var(--page-gap)] pb-[var(--page-gap)]",children:[t.jsx("button",{className:"absolute right-0 top-0 text-xs underline text-blue-700 px-2 py-1",onClick:()=>D(!1),children:"戻る"}),t.jsx(T,{chatLog:a})]}):t.jsx(e.Suspense,{fallback:t.jsx("div",{className:"text-gray-400 mt-8 animate-pulse",children:"チャットログを読み込み中..."}),children:t.jsx(A,{chatLog:a,isLoading:s,windowRows:k,participants:c})})})]})})}n.createRoot(document.getElementById("root")).render(t.jsx(e.StrictMode,{children:t.jsx($,{})}));export{L as f};
